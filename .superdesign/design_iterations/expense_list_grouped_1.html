<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense List - Grouped Variant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #F9FAFB;
        }
    </style>
</head>
<body class="p-8">
    <div class="max-w-3xl mx-auto">
        <!-- Header -->
        <div class="flex items-center justify-between mb-8">
            <div>
                <button class="flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors mb-3 text-sm font-medium">
                    <i data-lucide="arrow-left" class="w-4 h-4"></i>
                    Back to Dashboard
                </button>
                <h1 class="text-2xl font-bold text-gray-900">Expense History</h1>
            </div>
            <button class="w-10 h-10 bg-gray-900 text-white rounded-full flex items-center justify-center hover:bg-gray-800 shadow-lg">
                <i data-lucide="plus" class="w-6 h-6"></i>
            </button>
        </div>

        <!-- Filter Pills -->
        <div class="flex items-center gap-2 mb-8 overflow-x-auto pb-2 scrollbar-hide">
            <button class="px-4 py-1.5 bg-gray-900 text-white rounded-full text-sm font-medium whitespace-nowrap">
                All Expenses
            </button>
            <button class="px-4 py-1.5 bg-white border border-gray-200 text-gray-600 rounded-full text-sm font-medium hover:bg-gray-50 whitespace-nowrap">
                This Month
            </button>
            <button class="px-4 py-1.5 bg-white border border-gray-200 text-gray-600 rounded-full text-sm font-medium hover:bg-gray-50 whitespace-nowrap">
                Category
            </button>
            <button class="px-4 py-1.5 bg-white border border-gray-200 text-gray-600 rounded-full text-sm font-medium hover:bg-gray-50 whitespace-nowrap">
                Shared
            </button>
            <button class="w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center bg-white text-gray-400 hover:text-gray-900">
                <i data-lucide="sliders-horizontal" class="w-3 h-3"></i>
            </button>
        </div>

        <!-- Content Feed -->
        <div id="feed-container" class="space-y-8">
            <!-- Groups will be injected here -->
        </div>
    </div>

    <script>
        // Mock Data
        const categories = {
            'Groceries': { color: '#10B981', icon: 'shopping-cart' },
            'Dining Out': { color: '#F59E0B', icon: 'utensils' },
            'Housing': { color: '#6366F1', icon: 'home' },
            'Transportation': { color: '#3B82F6', icon: 'car' },
            'Entertainment': { color: '#EC4899', icon: 'ticket' },
            'Shopping': { color: '#8B5CF6', icon: 'shopping-bag' }
        };

        const expenseGroups = [
            {
                date: 'Today',
                total: 1300.50,
                items: [
                    { desc: 'Weekly Groceries', cat: 'Groceries', amount: 850.00, payer: 'Me', split: '50/50' },
                    { desc: 'Sushi Lunch', cat: 'Dining Out', amount: 450.50, payer: 'Partner', split: '50/50' }
                ]
            },
            {
                date: 'Yesterday',
                total: 12650.00,
                items: [
                    { desc: 'Monthly Rent', cat: 'Housing', amount: 12000.00, payer: 'Me', split: '50/50' },
                    { desc: 'Gas Station', cat: 'Transportation', amount: 650.00, payer: 'Me', split: 'Personal' }
                ]
            },
            {
                date: 'September 10',
                total: 320.00,
                items: [
                    { desc: 'Cinema Tickets', cat: 'Entertainment', amount: 320.00, payer: 'Partner', split: '50/50' }
                ]
            }
        ];

        function hexToRgba(hex, alpha) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return `rgba(${r}, ${g}, ${b}, ${alpha})`;
        }

        const container = document.getElementById('feed-container');

        expenseGroups.forEach(group => {
            let groupHtml = `
                <div class="animate-in fade-in slide-in-from-bottom-4 duration-500">
                    <div class="flex items-center justify-between mb-4 px-2">
                        <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider">${group.date}</h3>
                        <span class="text-sm font-medium text-gray-400">kr ${group.total.toFixed(2)}</span>
                    </div>
                    <div class="bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden">
            `;

            group.items.forEach((item, idx) => {
                const cat = categories[item.cat];
                const bg = hexToRgba(cat.color, 0.15);
                const text = cat.color;
                const borderClass = idx !== group.items.length - 1 ? 'border-b border-gray-50' : '';
                
                groupHtml += `
                    <div class="p-4 flex items-center gap-4 hover:bg-gray-50 transition-colors cursor-pointer group ${borderClass}">
                        <!-- Icon -->
                        <div class="w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 transition-transform group-hover:scale-105" 
                             style="background-color: ${bg}; color: ${text}">
                            <i data-lucide="${cat.icon}" class="w-6 h-6"></i>
                        </div>
                        
                        <!-- Main Info -->
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between mb-1">
                                <p class="text-gray-900 font-semibold truncate">${item.desc}</p>
                                <p class="text-gray-900 font-bold whitespace-nowrap">kr ${item.amount.toFixed(2)}</p>
                            </div>
                            <div class="flex items-center justify-between text-xs">
                                <div class="flex items-center gap-2 text-gray-500">
                                    <span>${item.cat}</span>
                                    <span>â€¢</span>
                                    <span class="flex items-center gap-1">
                                        <i data-lucide="${item.payer === 'Me' ? 'user' : 'users'}" class="w-3 h-3"></i>
                                        Paid by ${item.payer}
                                    </span>
                                </div>
                                ${item.split === 'Personal' 
                                    ? `<span class="px-2 py-0.5 rounded-full bg-gray-100 text-gray-600 font-medium">Personal</span>`
                                    : `<span class="px-2 py-0.5 rounded-full bg-blue-50 text-blue-600 font-medium">Shared</span>`
                                }
                            </div>
                        </div>
                    </div>
                `;
            });

            groupHtml += `
                    </div>
                </div>
            `;
            container.innerHTML += groupHtml;
        });

        lucide.createIcons();
    </script>
</body>
</html>
